!function(t){"use strict";t(document).ready(function(){hivepress.getComponent("modal").each(function(){var a="#"+t(this).attr("id");t('a[href="'+a+'"], button[data-url="'+a+'"]').on("click",function(e){t.fancybox.close(),t.fancybox.open({src:a}),e.preventDefault()})}),hivepress.getComponent("form").each(function(){var a=t(this),e=a.find(hivepress.getSelector("messages")).first(),i=e.attr("class").split(" ")[0],s=a.find(".g-recaptcha"),r=t(".g-recaptcha").index(s.get(0)),n=a.find(":submit");!0===a.data("autosubmit")&&a.on("change",function(){a.submit()}),a.on("submit",function(o){e.hide().html("").removeClass(i+"--success "+i+"--error"),n.prop("disabled",!0),n.attr("data-state","loading"),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),a.data("action")&&(t.ajax({url:a.data("action"),method:a.data("method")?a.data("method"):a.attr("method"),data:a.serializeJSON(),beforeSend:function(a){t("body").hasClass("logged-in")&&a.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)},complete:function(o){var d=o.responseJSON,l=a.data("redirect");n.prop("disabled",!1),n.attr("data-state",""),"undefined"!=typeof grecaptcha&&s.length&&grecaptcha.reset(r),null==d||d.hasOwnProperty("data")?(a.data("message")&&307!==o.status&&e.addClass(i+"--success").html("<div>"+a.data("message")+"</div>").show(),l||307===o.status?"string"==typeof l?window.location.replace(l):window.location.reload(!0):!a.data("reset")&&a.is("[data-id]")||a.trigger("reset")):d.hasOwnProperty("error")&&(d.error.hasOwnProperty("errors")?t.each(d.error.errors,function(t,a){e.append("<div>"+a.message+"</div>")}):d.error.hasOwnProperty("message")&&e.html("<div>"+d.error.message+"</div>"),e.is(":empty")||e.addClass(i+"--error").show()),e.is(":visible")&&a.offset().top<t(window).scrollTop()&&t("html, body").animate({scrollTop:a.offset().top},500)}}),o.preventDefault())})}),t(window).on("pageshow",function(a){if(a.originalEvent.persisted){var e=t("input[type=submit], button[type=submit]");e.prop("disabled",!1),e.attr("data-state","")}}),hivepress.getComponent("toggle").each(function(){var a=t(this);a.on("click",function(e){var i=a.attr("data-caption"),s=a.attr("data-icon"),r=a.find("i"),n=a.find("span");a.attr("data-icon",r.attr("class").split(" fa-")[1]),r.attr("class",function(t,a){return a.replace(/ fa-[a-z0-9-]+/g,"")}).addClass("fa-"+s),n.length?(a.attr("data-caption",n.text()),n.text(i)):(a.attr("data-caption",a.attr("title")),a.attr("title",i)),"active"!==a.attr("data-state")?a.attr("data-state","active"):a.attr("data-state",""),t.ajax({url:a.data("url"),method:"POST",beforeSend:function(a){t("body").hasClass("logged-in")&&a.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),e.preventDefault()})}),hivepress.getComponent("range-slider").each(function(){var a=t(this),e=t(this).find('input[type="number"]'),i=e.first(),s=e.last(),r=null;i.val()||i.val(i.attr("min")),s.val()||s.val(s.attr("max")),(r=t("<div />").appendTo(a).slider({range:!0,min:Number(i.attr("min")),max:Number(s.attr("max")),values:[Number(i.val()),Number(s.val())],slide:function(t,a){i.val(a.values[0]),s.val(a.values[1])}})).wrap("<div />"),e.on("change",function(){i.val()||i.val(i.attr("min")),s.val()||s.val(s.attr("max")),r.slider("values",[Number(i.val()),Number(s.val())])})}),t("body").imagesLoaded(function(){hivepress.getComponent("sticky").each(function(){var a=t(this),e=32;t("#wpadminbar").length&&(e+=t("#wpadminbar").height()),0===a.height()?a.hide():t(window).width()>=768&&(a.wrapInner("<div />"),a.children("div").stickySidebar({topSpacing:e,bottomSpacing:e}))})}),hivepress.getComponent("carousel-slider").each(function(){var a=t(this),e=a.find("img");if(e.length&&e.first().data("src")){var i=[];e.each(function(){i.push({src:t(this).data("src")})}),a.on("click","img",function(){var e=a.find("img").index(t(this).get(0));e<i.length&&t.fancybox.open(i,{loop:!0,buttons:["close"]},e)})}e.length>1&&a.imagesLoaded(function(){var t=a.attr("class").split(" ")[0],i=e.wrap("<div />").parent().wrapAll("<div />").parent(),s=i.clone();a.html(""),i.appendTo(a),s.appendTo(a),i.addClass(t+"-slider").slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,infinite:!1,arrows:!1,asNavFor:s}),s.addClass(t+"-carousel").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,prevArrow:'<div class="slick-arrow slick-prev"><i class="hp-icon fas fa-chevron-left"></i></div>',nextArrow:'<div class="slick-arrow slick-next"><i class="hp-icon fas fa-chevron-right"></i></div>',asNavFor:i,responsive:[{breakpoint:1025,settings:{slidesToShow:5}},{breakpoint:769,settings:{slidesToShow:4}},{breakpoint:481,settings:{slidesToShow:3}}]})})})})}(jQuery);
