(function(a){"use strict";a(document).ready(function(){function b(b){b.find(hivepress.getSelector("carousel-slider")).each(function(){var b=a(this),c=b.find("img, video"),d=+b.data("aspect-ratio"),e=b.data("url"),f=!1!==b.data("preview");if(c.length&&!e){var g=c.first().is("[data-zoom]")?"zoom":"src";if(c.first().data(g)){var h=[];c.each(function(){h.push({src:a(this).data(g)})}),b.on("click","img, video",function(c){var d=b.find("img, video").index(a(this).get(0));d<h.length&&a.fancybox.open(h,{loop:!0,buttons:["close"]},d),c.preventDefault()})}}1<c.length?b.imagesLoaded(function(){var g=b.attr("class").split(" ")[0],h=c.wrap("<div />").parent().wrapAll("<div />").parent(),i={slidesToShow:1,slidesToScroll:1,infinite:!1,adaptiveHeight:!0};if(b.html(""),e&&h.find("img, video").wrap("<a href=\""+e+"\" />"),h.appendTo(b),f){var j=h.clone();j.find("video").removeAttr("controls"),j.appendTo(b),j.on("init",function(a,b){d&&b.$slides.css("aspect-ratio",d)}),a.extend(i,{asNavFor:j,arrows:!1})}else a.extend(i,{prevArrow:"<div class=\"slick-arrow slick-prev\"><i class=\"hp-icon fas fa-chevron-left\"></i></div>",nextArrow:"<div class=\"slick-arrow slick-next\"><i class=\"hp-icon fas fa-chevron-right\"></i></div>"});h.on("init",function(a,b){d&&b.$slides.css("aspect-ratio",d)}),h.addClass(g+"-slider").slick(i);new MutationObserver(function(){h.slick("resize")}).observe(h.get(0),{subtree:!0,attributeFilter:["src"]});f&&j.addClass(g+"-carousel").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,prevArrow:"<div class=\"slick-arrow slick-prev\"><i class=\"hp-icon fas fa-chevron-left\"></i></div>",nextArrow:"<div class=\"slick-arrow slick-next\"><i class=\"hp-icon fas fa-chevron-right\"></i></div>",asNavFor:h,responsive:[{breakpoint:1025,settings:{slidesToShow:5}},{breakpoint:769,settings:{slidesToShow:4}},{breakpoint:481,settings:{slidesToShow:3}}]})}):d&&b.css("aspect-ratio",d)})}hivepress.getComponent("toggle").each(function(){var b=a(this);b.on("click",function(c){var d=b.attr("data-caption"),e=b.attr("data-icon"),f=b.find("i"),g=b.find("span");b.attr("data-icon",f.attr("class").split(" fa-")[1]),f.attr("class",function(a,b){return b.replace(/ fa-[a-z0-9-]+/g,"")}).addClass("fa-"+e),g.length?(b.attr("data-caption",g.text()),g.text(d)):(b.attr("data-caption",b.attr("title")),b.attr("title",d)),"active"===b.attr("data-state")?b.attr("data-state",""):b.attr("data-state","active"),a.ajax({url:b.data("url"),method:"POST",beforeSend:function(b){a("body").hasClass("logged-in")&&b.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),c.preventDefault()})}),hivepress.getComponent("range-slider").each(function(){var b=a(this),c=a(this).find("input[type=\"number\"]"),d=c.first(),f=c.last(),g=null;d.val()||d.val(d.attr("min")),f.val()||f.val(f.attr("max")),g=a("<div />").appendTo(b).slider({range:!0,min:+d.attr("min"),max:+f.attr("max"),step:+d.attr("step"),values:[+d.val(),+f.val()],slide:function(a,b){d.val(b.values[0]),f.val(b.values[1])}}),g.wrap("<div />"),c.on("change",function(){d.val()||d.val(d.attr("min")),f.val()||f.val(f.attr("max")),g.slider("values",[+d.val(),+f.val()])})}),b(a("body"));new MutationObserver(function(c){for(const{addedNodes:d}of c)for(const c of d)"DIV"===c.tagName&&c.classList.contains("slick-cloned")&&b(a(c))}).observe(document,{subtree:!0,childList:!0});a(window).on("pageshow",function(b){if(b.originalEvent.persisted){var c=a("input[type=submit], button[type=submit]");c.prop("disabled",!1),c.attr("data-state","")}}),hivepress.getComponent("password").each(function(){var b=a(this),c=b.parent().find("[data-component=\"password-meter\"]");b.on("input",function(){switch(c.removeClass(),wp.passwordStrength.meter(b.val(),[])){case 2:c.addClass("bad").html(pwsL10n.bad);break;case 3:c.addClass("good").html(pwsL10n.good);break;case 4:c.addClass("strong").html(pwsL10n.strong);break;case 5:c.addClass("short").html(pwsL10n.mismatch);break;default:c.addClass("short").html(pwsL10n.short)}})})}),a("body").imagesLoaded(function(){hivepress.getComponent("sticky").each(function(){var b=a(this),c=32;if(a("#wpadminbar").length&&(c+=a("#wpadminbar").height()),0===b.height())b.hide();else if(768<=a(window).width()){b.wrapInner("<div />");var d=b.children("div").stickySidebar({topSpacing:c,bottomSpacing:c}),e=new ResizeObserver(function(){d.stickySidebar("updateSticky")}).observe(b.get(0))}})})})(jQuery);