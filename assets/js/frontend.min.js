!function(t){"use strict";t(document).ready(function(){hivepress.getComponent("modal").each(function(){var e="#"+t(this).attr("id");t('a[href="'+e+'"], button[data-url="'+e+'"]').on("click",function(a){t.fancybox.close(),t.fancybox.open({src:e,touch:!1}),a.preventDefault()})}),hivepress.getComponent("form").each(function(){var e=t(this),a=e.find(hivepress.getSelector("messages")).first(),i=a.attr("class").split(" ")[0],s=e.find(".g-recaptcha"),r=t(".g-recaptcha").index(s.get(0)),n=e.find(":submit");!0===e.data("autosubmit")&&e.on("change",function(){e.submit()}),e.on("submit",function(o){a.hide().html("").removeClass(i+"--success "+i+"--error"),n.prop("disabled",!0),n.attr("data-state","loading"),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),e.data("action")&&(t.ajax({url:e.data("action"),method:e.data("method")?e.data("method"):e.attr("method"),data:e.serializeJSON(),beforeSend:function(e){t("body").hasClass("logged-in")&&e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)},complete:function(o){var d=o.responseJSON,l=e.data("redirect");n.prop("disabled",!1),n.attr("data-state",""),"undefined"!=typeof grecaptcha&&s.length&&grecaptcha.reset(r),null==d||d.hasOwnProperty("data")?(e.data("message")&&307!==o.status&&a.addClass(i+"--success").html("<div>"+e.data("message")+"</div>").show(),l||307===o.status?"string"==typeof l?window.location.replace(l):window.location.reload(!0):!e.data("reset")&&e.is("[data-id]")||(e.trigger("reset"),e.find(hivepress.getSelector("file-upload")).each(function(){t(this).closest("label").parent().children("div").first().html("")}))):d.hasOwnProperty("error")&&(d.error.hasOwnProperty("errors")?t.each(d.error.errors,function(t,e){a.append("<div>"+e.message+"</div>")}):d.error.hasOwnProperty("message")&&a.html("<div>"+d.error.message+"</div>"),a.is(":empty")||a.addClass(i+"--error").show()),a.is(":visible")&&e.offset().top<t(window).scrollTop()&&t("html, body").animate({scrollTop:e.offset().top},500)}}),o.preventDefault())})}),t(window).on("pageshow",function(e){if(e.originalEvent.persisted){var a=t("input[type=submit], button[type=submit]");a.prop("disabled",!1),a.attr("data-state","")}}),hivepress.getComponent("toggle").each(function(){var e=t(this);e.on("click",function(a){var i=e.attr("data-caption"),s=e.attr("data-icon"),r=e.find("i"),n=e.find("span");e.attr("data-icon",r.attr("class").split(" fa-")[1]),r.attr("class",function(t,e){return e.replace(/ fa-[a-z0-9-]+/g,"")}).addClass("fa-"+s),n.length?(e.attr("data-caption",n.text()),n.text(i)):(e.attr("data-caption",e.attr("title")),e.attr("title",i)),"active"!==e.attr("data-state")?e.attr("data-state","active"):e.attr("data-state",""),t.ajax({url:e.data("url"),method:"POST",beforeSend:function(e){t("body").hasClass("logged-in")&&e.setRequestHeader("X-WP-Nonce",hivepressCoreData.apiNonce)}}),a.preventDefault()})}),hivepress.getComponent("range-slider").each(function(){var e=t(this),a=t(this).find('input[type="number"]'),i=a.first(),s=a.last(),r=null;i.val()||i.val(i.attr("min")),s.val()||s.val(s.attr("max")),(r=t("<div />").appendTo(e).slider({range:!0,min:Number(i.attr("min")),max:Number(s.attr("max")),values:[Number(i.val()),Number(s.val())],slide:function(t,e){i.val(e.values[0]),s.val(e.values[1])}})).wrap("<div />"),a.on("change",function(){i.val()||i.val(i.attr("min")),s.val()||s.val(s.attr("max")),r.slider("values",[Number(i.val()),Number(s.val())])})}),hivepress.getComponent("carousel-slider").each(function(){var e=t(this),a=e.find("img");if(a.length&&a.first().data("src")){var i=[];a.each(function(){i.push({src:t(this).data("src")})}),e.on("click","img",function(){var a=e.find("img").index(t(this).get(0));a<i.length&&t.fancybox.open(i,{loop:!0,buttons:["close"]},a)})}a.length>1&&e.imagesLoaded(function(){var t=e.attr("class").split(" ")[0],i=a.wrap("<div />").parent().wrapAll("<div />").parent(),s=i.clone();e.html(""),i.appendTo(e),s.appendTo(e),i.addClass(t+"-slider").slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,infinite:!1,arrows:!1,asNavFor:s}),s.addClass(t+"-carousel").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,focusOnSelect:!0,prevArrow:'<div class="slick-arrow slick-prev"><i class="hp-icon fas fa-chevron-left"></i></div>',nextArrow:'<div class="slick-arrow slick-next"><i class="hp-icon fas fa-chevron-right"></i></div>',asNavFor:i,responsive:[{breakpoint:1025,settings:{slidesToShow:5}},{breakpoint:769,settings:{slidesToShow:4}},{breakpoint:481,settings:{slidesToShow:3}}]})})})}),t(window).on("load",function(){hivepress.getComponent("sticky").each(function(){var e=t(this),a=32;t("#wpadminbar").length&&(a+=t("#wpadminbar").height()),0===e.height()?e.hide():t(window).width()>=768&&(e.wrapInner("<div />"),e.children("div").stickySidebar({topSpacing:a,bottomSpacing:a}))})})}(jQuery);
